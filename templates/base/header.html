{% load static %}
<header class="header-area">
  <div id="header-sticky" class="">
    <div class="container">
      <div class="">
        <div class="row align-items-center">
          <!-- Logo -->
          <div class="col-xl-2 col-lg-2 col-6">
            <div class="logo">
              <a href="{% url 'home' %}">
                <img
                  src="{% static 'img/logo/sh-01-01-01-01.png' %}"
                  alt="logo"
                />
              </a>
            </div>
          </div>

          <!-- Navigation Menu -->
          <div class="col-xl-8 col-lg-8 d-none d-lg-block text-center">
            <div class="main-menu">
              <nav id="mobile-menu">
                <ul>
                  <li
                    class="has-sub {% if request.resolver_match.url_name == 'home' %}active{% endif %}"
                  >
                    <a href="{% url 'home' %}">Home</a>
                  </li>
                  <li
                    class="has-sub {% if request.resolver_match.url_name == 'about' %}active{% endif %}"
                  >
                    <a href="{% url 'about' %}">About</a>
                  </li>
                  <li
                    class="has-sub {% if request.resolver_match.url_name == 'services' %}active{% endif %}"
                  >
                    <a href="{% url 'service_list' %}">Services</a>
                  </li>
                  <li
                    class="has-sub {% if request.resolver_match.url_name == 'brand_list' %}active{% endif %}"
                  >
                    <a href="{% url 'brand_list' %}">Brand</a>
                  </li>
                  <li
                    class="has-sub {% if request.resolver_match.url_name == 'blog' %}active{% endif %}"
                  >
                    <a href="{% url 'blog' %}">Blog</a>
                  </li>
                  <li
                    class="has-sub {% if request.resolver_match.url_name == 'contact' %}active{% endif %}"
                  >
                    <a href="{% url 'contact' %}">Contact</a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>

          <!-- User and Search Icons -->
          <div
            class="col-xl-2 col-lg-2 col-6 d-flex justify-content-end align-items-center"
          >
            <!-- User Icon -->
            {% if user.is_authenticated %}
            <a href="{% url 'profile' %}" class="icon-btn">
              <i class="fal fa-user"></i>
            </a>
            {% else %}
            <a href="{% url 'login' %}" class="icon-btn">
              <i class="fal fa-user"></i>
            </a>
            {% endif %}
            <!-- Search Icon -->
            <a
              href="javascript:void(0);"
              class="icon-btn ml-3"
              onclick="openSearch()"
            >
              <i class="fal fa-search"></i>
            </a>
            <!-- Hamburger Menu -->
            <a
              href="javascript:void(0);"
              class="icon-btn ml-3 d-lg-none"
              onclick="toggleMenu()"
            >
              <i class="fal fa-bars"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- Mobile Menu -->
<div
  id="mobile-nav"
  class="mobile-nav"
  role="navigation"
  aria-label="Mobile Navigation"
>
  <div class="mobile-nav-backdrop" onclick="toggleMenu()"></div>
  <div class="mobile-nav-content">
    <span class="closebtn" onclick="toggleMenu()" aria-label="Close Mobile Menu"
      >&times;</span
    >
    <ul>
      <li
        class="{% if request.resolver_match.url_name == 'home' %}active{% endif %}"
      >
        <a href="{% url 'home' %}">Home</a>
      </li>
      <li
        class="{% if request.resolver_match.url_name == 'about' %}active{% endif %}"
      >
        <a href="{% url 'about' %}">About</a>
      </li>
      <li
        class="{% if request.resolver_match.url_name == 'services' %}active{% endif %}"
      >
        <a href="{% url 'service_list' %}">Services</a>
      </li>
      <li
        class="{% if request.resolver_match.url_name == 'brand_list' %}active{% endif %}"
      >
        <a href="{% url 'brand_list' %}">Brand</a>
      </li>
      <li
        class="{% if request.resolver_match.url_name == 'blog' %}active{% endif %}"
      >
        <a href="{% url 'blog' %}">Blog</a>
      </li>
      <li
        class="{% if request.resolver_match.url_name == 'contact' %}active{% endif %}"
      >
        <a href="{% url 'contact' %}">Contact</a>
      </li>
    </ul>
  </div>
</div>

<!-- Search Overlay -->
<div id="myOverlay" class="overlay">
  <span class="closebtn" onclick="closeSearch()" title="Close Overlay"
    >&times;</span
  >
  <div class="overlay-content">
    <form action="{% url 'blog-search' %}" method="get">
      <input type="text" placeholder="Search for posts..." name="q" required />
      <button type="submit">
        <i class="fa fa-search"></i>
      </button>
    </form>
  </div>
</div>

<script>
  function toggleMenu() {
    const mobileNav = document.getElementById("mobile-nav");
    mobileNav.style.display =
      mobileNav.style.display === "block" ? "none" : "block";
  }

  function openSearch() {
    document.getElementById("myOverlay").style.display = "block";
  }

  function closeSearch() {
    document.getElementById("myOverlay").style.display = "none";
  }
</script>
